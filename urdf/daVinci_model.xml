<? xml version = "1.0" ?>
<robot name= "daVinci" >

	<joint name = "setup1_joint" type = "revolute" >
		<parent link= "base_link" />
    	<child link= "setup1_link" />
    	<origin xyz= "0 0 1.1" rpy= "0 0 0" />
    	<axis xyz= "0 0 1" />
    	<limit effort= "100000" velocity= "1" lower = "-3.1416" upper = "3.1416" />
  	</joint>

  	<joint name = "setup2_joint" type = "revolute" >
		<parent link= "setup1_link" />
    	<child link= "setup2_link" />
    	<origin xyz= "0 1.0 0.1" rpy= "0 0 0" />
    	<axis xyz= "0 0 1" />
    	<limit effort= "100000" velocity= "1" lower = "-1.5707" upper = "1.5707" />
  	</joint>

  	<joint name = "setup3_joint" type = "revolute" >
		<parent link= "setup2_link" />
    	<child link= "setup3_link" />
    	<origin xyz= "0 1.0 -0.1" rpy= "0 0 0" />
    	<axis xyz= "0 0 1" />
    	<limit effort= "100000" velocity= "1" lower = "-1.5707" upper = "1.5707" />
  	</joint>

  	<joint name = "outer_yaw_joint" type = "revolute" >
		<parent link= "setup3_link" />
    	<child link= "outer_yaw_link" />
    	<origin xyz= "0 0.74 0.30000000000000004" rpy= "0 0 0" />
    	<axis xyz= "0 1 0" />
    	<limit effort= "100000" velocity= "1" lower = "-1.0" upper = "1.0" />
  	</joint>

  	<joint name = "outer_pitch_back_joint" type = "revolute" >
		<parent link= "outer_yaw_link" />
    	<child link= "outer_pitch_back_link" />
    	<origin xyz= "0 0 0" rpy= "0 0 0" />
    	<axis xyz= "1 0 0" />
    	<limit effort= "100000" velocity= "1" lower = "-1.5707" upper = "1.5707" />
  	</joint>

   	<joint name = "outer_pitch_middle_joint" type = "revolute" >
		<parent link= "outer_pitch_back_link" />
    	<child link= "outer_pitch_middle_link" />
    	<origin xyz= "0 0 0.12" rpy= "0 0 0" />
    	<axis xyz= "1 0 0" />
    	<limit effort= "100000" velocity= "1" lower = "-1.5707" upper = "1.5707" />
  	</joint>

  	<joint name = "outer_pitch_front_joint" type = "revolute" >
		<parent link= "outer_pitch_middle_link" />
    	<child link= "outer_pitch_front_link" />
    	<origin xyz= "0 0.5 0" rpy= "0 0 0" />
    	<axis xyz= "1 0 0" />
    	<limit effort= "100000" velocity= "1" lower = "-1.5707" upper = "1.5707" />
  	</joint>

  	<transmission name="setup1_joint_transmission">
    	<type> transmission_interface/SimpleTransmission </type>
    	<joint name="setup1_joint">
      		<hardwareInterface> hardware_interface/PositionJointInterface </hardwareInterface>
    	</joint>
    	<actuator name= "setup1_joint_motor">
      		<hardwareInterface> PositionJointInterface </hardwareInterface>
      		<mechanicalReduction> 1 </mechanicalReduction>
    	</actuator>
  	</transmission>

   	<transmission name="setup2_joint_transmission">
    	<type> transmission_interface/SimpleTransmission </type>
    	<joint name="setup2_joint">
      		<hardwareInterface> hardware_interface/PositionJointInterface </hardwareInterface>
    	</joint>
    	<actuator name= "setup2_joint_motor">
      		<hardwareInterface> PositionJointInterface </hardwareInterface>
      		<mechanicalReduction> 1 </mechanicalReduction>
    	</actuator>
  	</transmission>

   	<transmission name="setup3_joint_transmission">
    	<type> transmission_interface/SimpleTransmission </type>
    	<joint name="setup3_joint">
      		<hardwareInterface> hardware_interface/PositionJointInterface </hardwareInterface>
    	</joint>
    	<actuator name= "setup3_joint_motor">
      		<hardwareInterface> PositionJointInterface </hardwareInterface>
      		<mechanicalReduction> 1 </mechanicalReduction>
    	</actuator>
  	</transmission>

   	<transmission name="outer_yaw_joint_transmission">
    	<type> transmission_interface/SimpleTransmission </type>
    	<joint name="outer_yaw_joint">
      		<hardwareInterface> hardware_interface/PositionJointInterface </hardwareInterface>
    	</joint>
    	<actuator name= "outer_yaw_joint_motor">
      		<hardwareInterface> PositionJointInterface </hardwareInterface>
      		<mechanicalReduction> 1 </mechanicalReduction>
    	</actuator>
  	</transmission>

   	<transmission name="outer_pitch_back_joint_transmission">
    	<type> transmission_interface/SimpleTransmission </type>
    	<joint name="outer_pitch_back_joint">
      		<hardwareInterface> hardware_interface/PositionJointInterface </hardwareInterface>
    	</joint>
    	<actuator name= "outer_pitch_back_joint_motor">
      		<hardwareInterface> PositionJointInterface </hardwareInterface>
      		<mechanicalReduction> 1 </mechanicalReduction>
    	</actuator>
  	</transmission>

   	<transmission name="outer_pitch_middle_joint_transmission">
    	<type> transmission_interface/SimpleTransmission </type>
    	<joint name="outer_pitch_middle_joint">
      		<hardwareInterface> hardware_interface/PositionJointInterface </hardwareInterface>
    	</joint>
    	<actuator name= "outer_pitch_middle_joint_motor">
      		<hardwareInterface> PositionJointInterface </hardwareInterface>
      		<mechanicalReduction> 1 </mechanicalReduction>
    	</actuator>
  	</transmission>

   	<transmission name="outer_pitch_front_joint_transmission">
    	<type> transmission_interface/SimpleTransmission </type>
    	<joint name="outer_pitch_front_joint">
      		<hardwareInterface> hardware_interface/PositionJointInterface </hardwareInterface>
    	</joint>
    	<actuator name= "outer_pitch_front_joint_motor">
      		<hardwareInterface> PositionJointInterface </hardwareInterface>
      		<mechanicalReduction> 1 </mechanicalReduction>
    	</actuator>
  	</transmission>

	<link name = "base_link" >

		<inertial>
			<mass value = "500.0" />
			<origin xyz = "0 0 0.1" rpy = "0 0 0" />
			<inertia ixx = "0"
					 ixy = "0"
					 ixz = "0"
					 iyy = "0"
					 iyz = "0"
					 izz = "0" />
		</inertial>

		<visual name = "base_link_base_visual" >
			<origin xyz = "0 0 0.1" rpy = "0 0 0" />
			<geometry>
				<box size = "1.5 1.5 0.2" />
			</geometry>
		</visual>

		<collision name = "base_link_base_collision" >
			<origin xyz = "0 0 0.1" rpy = "0 0 0" />
			<geometry>
				<box size = "1.5 1.5 0.2" />
			</geometry>
		</collision>

		<visual name = "base_link_support_visual" >
			<origin xyz = "0 0 1.1" rpy = "0 0 0" />
			<geometry>
				<cylinder radius = "0.15" length = "2.0" />
			</geometry>
		</visual>

		<collision name = "base_link_support_collision" >
			<origin xyz = "0 0 1.1" rpy = "0 0 0" />
			<geometry>
				<cylinder radius = "0.15" length = "2.0" />
			</geometry>
		</collision>

	</link>

	<link name = "setup1_link" >

		<inertial>
			<mass value = "10.0" />
			<origin xyz = "0 0.5 0" rpy = "1.5707 0 0" />
			<inertia ixx = "0"
					 ixy = "0"
					 ixz = "0"
					 iyy = "0"
					 iyz = "0"
					 izz = "0" />
		</inertial>

		<visual name = "setup1_link_visual" >
			<origin xyz = "0 0.5 0" rpy = "1.5707 0 0" />
			<geometry>
				<cylinder radius = "0.1" length = "1.0" />
			</geometry>
		</visual>

		<collision name = "setup1_link_collision" >
			<origin xyz = "0 0.5 0" rpy = "1.5707 0 0" />
			<geometry>
				<cylinder radius = "0.1" length = "1.0" />
			</geometry>
		</collision>

	</link>

	<link name = "setup2_link" >

		<inertial>
			<mass value = "10.0" />
			<origin xyz = "0 0.5 0" rpy = "1.5707 0 0" />
			<inertia ixx = "0"
					 ixy = "0"
					 ixz = "0"
					 iyy = "0"
					 iyz = "0"
					 izz = "0" />
		</inertial>

		<visual name = "setup2_link_visual" >
			<origin xyz = "0 0.5 0" rpy = "1.5707 0 0" />
			<geometry>
				<cylinder radius = "0.1" length = "1.0" />
			</geometry>
		</visual>

		<collision name = "setup2_link_collision" >
			<origin xyz = "0 0.5 0" rpy = "1.5707 0 0" />
			<geometry>
				<cylinder radius = "0.1" length = "1.0" />
			</geometry>
		</collision>

		<visual name = "setup2_link_hinge_visual" >
			<origin xyz = "0 0 -0.05" rpy = "0 0 0" />
			<geometry>
				<cylinder radius = "0.1" length = "0.30000000000000004" />
			</geometry>
		</visual>

		<collision name = "setup2_link_hinge_collision" >
			<origin xyz = "0 0 -0.05" rpy = "0 0 0" />
			<geometry>
				<cylinder radius = "0.1" length = "0.30000000000000004" />
			</geometry>
		</collision>

	</link>

	<link name = "setup3_link" >

		<inertial>
			<mass value = "10.0" />
			<origin xyz = "0 0.5 0" rpy = "1.5707 0 0" />
			<inertia ixx = "0"
					 ixy = "0"
					 ixz = "0"
					 iyy = "0"
					 iyz = "0"
					 izz = "0" />
		</inertial>

		<visual name = "setup3_link_visual" >
			<origin xyz = "0 0.5 0" rpy = "1.5707 0 0" />
			<geometry>
				<cylinder radius = "0.1" length = "1.0" />
			</geometry>
		</visual>

		<collision name = "setup3_link_collision" >
			<origin xyz = "0 0.5 0" rpy = "1.5707 0 0" />
			<geometry>
				<cylinder radius = "0.1" length = "1.0" />
			</geometry>
		</collision>

		<visual name = "setup3_link_hinge_visual" >
			<origin xyz = "0 0 0.05" rpy = "0 0 0" />
			<geometry>
				<cylinder radius = "0.1" length = "0.30000000000000004" />
			</geometry>
		</visual>

		<collision name = "setup3_link_hinge_collision" >
			<origin xyz = "0 0 0.05" rpy = "0 0 0" />
			<geometry>
				<cylinder radius = "0.1" length = "0.30000000000000004" />
			</geometry>
		</collision>

		<visual name = "front_outer_yaw_link_support_visual" >
			<origin xyz = "0 0.99 0.15000000000000002" rpy = "0 0 0" />
			<geometry>
				<cylinder radius = "0.01" length = "0.30000000000000004" />
			</geometry>
		</visual>

		<collision name = "front_outer_yaw_link_support_collision" >
			<origin xyz = "0 0.99 0.15000000000000002" rpy = "0 0 0" />
			<geometry>
				<cylinder radius = "0.01" length = "0.30000000000000004" />
			</geometry>
		</collision>

		<visual name = "back_outer_yaw_link_support_visual" >
			<origin xyz = "0 0.49 0.15000000000000002" rpy = "0 0 0" />
			<geometry>
				<cylinder radius = "0.01" length = "0.30000000000000004" />
			</geometry>
		</visual>

		<collision name = "back_outer_yaw_link_support_collision" >
			<origin xyz = "0 0.49 0.15000000000000002" rpy = "0 0 0" />
			<geometry>
				<cylinder radius = "0.01" length = "0.30000000000000004" />
			</geometry>
		</collision>

	</link>

	<link name = "outer_yaw_link" >

		<inertial>
			<mass value = "1.0" />
			<origin xyz = "0 0 -0.05" rpy = "0 0 0" />
			<inertia ixx = "0"
					 ixy = "0"
					 ixz = "0"
					 iyy = "0"
					 iyz = "0"
					 izz = "0" />
		</inertial>

		<visual name = "outer_yaw_link_visual" >
			<origin xyz = "0 0 -0.05" rpy = "0 0 0" />
			<geometry>
				<box size = "0.2 0.48 0.1" />
			</geometry>
		</visual>

		<collision name = "outer_yaw_link_collision" >
			<origin xyz = "0 0 -0.05" rpy = "0 0 0" />
			<geometry>
				<box size = "0.2 0.48 0.1" />
			</geometry>
		</collision>

	</link>

	<link name = "outer_pitch_back_link" >

		<inertial>
			<mass value = "1.0" />
			<origin xyz = "0 0 0.06" rpy = "0 0 0" />
			<inertia ixx = "0"
					 ixy = "0"
					 ixz = "0"
					 iyy = "0"
					 iyz = "0"
					 izz = "0" />
		</inertial>

		<visual name = "outer_pitch_back_link_visual" >
			<origin xyz = "0 0 0.06" rpy = "0 0 0" />
			<geometry>
				<box size = "0.1 0.01 0.12" />
			</geometry>
		</visual>

		<collision name = "outer_pitch_back_link_collision" >
			<origin xyz = "0 0 0.06" rpy = "0 0 0" />
			<geometry>
				<box size = "0.1 0.01 0.12" />
			</geometry>
		</collision>

	</link>

	<link name = "outer_pitch_middle_link" >

		<inertial>
			<mass value = "1.0" />
			<origin xyz = "0 0.25 0" rpy = "0 0 0" />
			<inertia ixx = "0"
					 ixy = "0"
					 ixz = "0"
					 iyy = "0"
					 iyz = "0"
					 izz = "0" />
		</inertial>

		<visual name = "outer_pitch_middle_link_visual" >
			<origin xyz = "0 0.25 0" rpy = "0 0 0" />
			<geometry>
				<box size = "0.1 0.5 0.01" />
			</geometry>
		</visual>

		<collision name = "outer_pitch_middle_link_collision" >
			<origin xyz = "0 0.25 0" rpy = "0 0 0" />
			<geometry>
				<box size = "0.1 0.5 0.01" />
			</geometry>
		</collision>

	</link>

	<link name = "outer_pitch_front_link" >

		<inertial>
			<mass value = "1.0" />
			<origin xyz = "0 0 0.1875" rpy = "0 0 0" />
			<inertia ixx = "0"
					 ixy = "0"
					 ixz = "0"
					 iyy = "0"
					 iyz = "0"
					 izz = "0" />
		</inertial>

		<visual name = "outer_pitch_middle_link_visual" >
			<origin xyz = "0 0 0.1875" rpy = "0 0 0" />
			<geometry>
				<box size = "0.1 0.01 0.5" />
			</geometry>
		</visual>

		<collision name = "outer_pitch_middle_link_collision" >
			<origin xyz = "0 0 0.1875" rpy = "0 0 0" />
			<geometry>
				<box size = "0.1 0.01 0.5" />
			</geometry>
		</collision>

	</link>

	<gazebo>

	  <static> false </static>

	  <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">
	    <robotNamespace> /daVinci </robotNamespace>
	  </plugin>

	  <plugin name = "libroboticsgroup_gazebo_mimic_joint_plugin" filename = "libroboticsgroup_gazebo_mimic_joint_plugin.so">
	  	<robotNamespace> /daVinci </robotNamespace>
	  	<joint> outer_pitch_back_joint </joint>
	  	<mimicJoint> outer_pitch_middle_joint </mimicJoint>
	  	<multiplier> -1 </multiplier>
	  	<offset> 0 </offset>
	  </plugin>

	  <plugin name = "libroboticsgroup_gazebo_mimic_joint_plugin" filename = "libroboticsgroup_gazebo_mimic_joint_plugin.so">
	  	<robotNamespace> /daVinci </robotNamespace>
	  	<joint> outer_pitch_back_joint </joint>
	  	<mimicJoint> outer_pitch_front_joint </mimicJoint>
	  	<multiplier> 1 </multiplier>
	  	<offset> 0 </offset>
	  </plugin>
	  
	</gazebo>

</robot>

